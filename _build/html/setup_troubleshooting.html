

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python Tool Troubleshooting &mdash; Anello Developer Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/my_theme.css?v=547657ed" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Unit Configurations" href="unit_configuration.html" />
    <link rel="prev" title="ANELLO Python Tool" href="python_tool.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Anello Developer Manual
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ANELLO Developer Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started_quick.html">EVK Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_gnssins.html">GNSS INS Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_imu.html">IMU &amp; IMU+ Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_x3.html">X3 Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_tool.html">ANELLO Python Tool</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Python Tool Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-anello-python-program">Install ANELLO Python Program</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-python-program">Run Python Program</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connect-to-anello-unit">Connect to ANELLO Unit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#drivers">Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#increasing-user-permissions">Increasing User Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-as-root">Running as Root</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="unit_configuration.html">Unit Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="vehicle_configuration.html">Vehicle Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication_messaging.html">Communication &amp; Messaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="mechanicals.html">Mechanicals</a></li>
<li class="toctree-l1"><a class="reference internal" href="drive_testing.html">Drive Testing Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="fw_upgrade.html">Firmware Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_tools.html">Software Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="known_limitations.html">Known Issues and Limitations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Anello Developer Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Python Tool Troubleshooting</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/setup_troubleshooting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="python-tool-troubleshooting">
<h1>Python Tool Troubleshooting<a class="headerlink" href="#python-tool-troubleshooting" title="Link to this heading"></a></h1>
<section id="install-anello-python-program">
<h2>Install ANELLO Python Program<a class="headerlink" href="#install-anello-python-program" title="Link to this heading"></a></h2>
<p>PIP is Python’s package manager and it is usually installed by default in Python installations.
You can check its installation by running the following in your command prompt or terminal:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<p>If you receive an error that pip cannot be found, we recommend uninstalling and re-installing Python.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">user_tool</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>If the above command fails, you may need to replace “pip” with “pip3”, “python -m pip” or “python3 -m pip”.</p>
<p>On some Linux systems, matplotlib and numpy dependencies must be installed with apt instead of pip.
You can get around this by manually running:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">matplotlib</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">numpy</span>
</pre></div>
</div>
<p>Or if you already installed requirements.txt and ran the program, but received a matplotlib error:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">uninstall</span> <span class="n">matplotlib</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">matplotlib</span>
</pre></div>
</div>
<p>Starting Feb 2024, PySimpleGUI started requiring a license for their new version 5 release. If you have any issues with license requests, please run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">uninstall</span> <span class="n">PySimpleGUI</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>If you still have issues installing packages after trying the above steps, you may need to re-install <a class="reference external" href="https://www.python.org/downloads/">python</a> to ensure pip is installed correctly.
Note that as of Nov 2023, we noticed some issues with Python 3.12 and the corresponding pip supporting the necessary dependencies.
If you are using Python 3.12 and experience issues with specific packages, please revert to Python 3.11 and try again.</p>
<p>If you experience errors or warnings which may be related to access, please be sure to run your command window as administrator.
Other access issues may be related to internal firewall or other security features, so please check with your IT team if you are unable to install any Python packages.</p>
</section>
<section id="run-python-program">
<h2>Run Python Program<a class="headerlink" href="#run-python-program" title="Link to this heading"></a></h2>
<p>After installing dependencies and running user_program.py, you should now see the System Status and Main Menu, as shown below.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="_images/full_status_labeled.png"><img alt="_images/full_status_labeled.png" src="_images/full_status_labeled.png" style="width: 434.5px; height: 187.5px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 4: ANELLO Python Program Home Screen</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The main menu actions are:</p>
<ul class="simple">
<li><p>Refresh:               Refresh the display to see new system status</p></li>
<li><p>Connect:               Connect to the unit over COM or UDP</p></li>
<li><p>Restart Unit:          Restart the unit</p></li>
<li><p>Unit Configuration:    Edit unit configurations such as output data rate</p></li>
<li><p>Vehicle Configuration: Set lever arms such as to antennae and vehicle center</p></li>
<li><p>Log:                   Collect GPS, IMU, and INS data and convert to CSV</p></li>
<li><p>Monitor:               Opens a display showing the real-time INS message contents</p></li>
<li><p>NTRIP:                 Connect to a server for GNSS corrections</p></li>
<li><p>Upgrade:               Change the unit’s firmware version</p></li>
<li><p>Exit:                  Exit the python program</p></li>
</ul>
</section>
<section id="connect-to-anello-unit">
<h2>Connect to ANELLO Unit<a class="headerlink" href="#connect-to-anello-unit" title="Link to this heading"></a></h2>
<p>For information on the interfaces, ports, and baud rates for your ANELLO unit,
see <a class="reference external" href="https://docs-a1.readthedocs.io/en/latest/communication_messaging.html">Communication &amp; Messaging</a>.</p>
<p>If the auto detection fails, you can try manual connection. First check that the ports associated with your ANELLO unit are recognized by your computer.
On Windows, use the device manager to find the COM ports. On Mac and Ubuntu, use the terminal and change directory to <em>/dev</em>,
and check for ports associated with the ANELLO unit, typically named something like <em>tty.usbserial-xxx</em>.</p>
<section id="drivers">
<h3>Drivers<a class="headerlink" href="#drivers" title="Link to this heading"></a></h3>
<p>If you are using the EVK and four COM ports do not show in the manual connection mode or your computer’s device manager,
you may need to install the <a class="reference external" href="https://ftdichip.com/drivers/d2xx-drivers/">FTDI drivers</a></p>
<p>If you are using the GNSS INS or IMU and the two ports do not show in the manual connection mode or your computer’s device manager,
you may need to install the CableCreations drivers for the RS-232 to USB cable.
This can be found by installing the zip file <a class="reference external" href="https://www.prolific.com.tw/US/ShowProduct.aspx?p_id=225&amp;pcid=41">here</a>.
<cite>This YouTube video &lt;https://www.youtube.com/watch?v=wEsv6_a0YTs&gt;</cite> can be helpful resource for walking through those steps.</p>
</section>
<section id="increasing-user-permissions">
<h3>Increasing User Permissions<a class="headerlink" href="#increasing-user-permissions" title="Link to this heading"></a></h3>
<p>On Ubuntu or other operating systems, the program may not have permission to access serial ports causing the connect step to fail.
This can be fixed by increasing user permissions or running as root.</p>
<p>The user may need to be added to groups “tty” or “dialout” to access the serial port.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">usermod</span> <span class="o">-</span><span class="n">a</span> <span class="o">-</span><span class="n">G</span> <span class="n">tty</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">user</span> <span class="n">name</span><span class="o">&gt;</span>
<span class="n">sudo</span> <span class="n">usermod</span> <span class="o">-</span><span class="n">a</span> <span class="o">-</span><span class="n">G</span> <span class="n">dialout</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">user</span> <span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Then log out and back in for the permissions to apply.</p>
</section>
<section id="running-as-root">
<h3>Running as Root<a class="headerlink" href="#running-as-root" title="Link to this heading"></a></h3>
<p>Running as root may also help with user permisions issues, but note that root may have a different default python.
Check your python location with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">which</span> <span class="n">python</span>
</pre></div>
</div>
<p>then run as root using that path to python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">&lt;</span><span class="n">path</span> <span class="n">to</span> <span class="n">python</span><span class="o">&gt;</span> <span class="n">user_program</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>On Windows, the firewall can block communication on UDP ports.
When this issue happens, you can connect by UDP in user_program.py and read/write configurations, but the logs and monitor are empty.</p>
<p>To fix:</p>
<ol class="arabic simple">
<li><p>In Windows start menu, search “firewall”, then click “Firewall &amp; network protection”</p></li>
<li><p>Click “Allow an app through firewall”</p></li>
<li><p>In the popup: click “Change Settings”</p></li>
<li><p>Scroll down to see if “Python” is in the list. If not, click “allow another app” -&gt; “Browse” and select your python.exe</p></li>
<li><p>Check the “public” and “private” boxes for Python, then click “ok”.</p></li>
</ol>
<p>If you have multiple Python versions installed, ensure firewall lists the version you use to run user_program.</p>
<ul class="simple">
<li><p>in cmd: check the Python location and version with:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">where</span> <span class="n">python</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Use that path while adding Python in the firewall settings.</p></li>
<li><p>Or select Python in the firewall list, click “details” and verify the path matches.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="python_tool.html" class="btn btn-neutral float-left" title="ANELLO Python Tool" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="unit_configuration.html" class="btn btn-neutral float-right" title="Unit Configurations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Anello Photonics, Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>